(this["webpackJsonpbs-form-example"]=this["webpackJsonpbs-form-example"]||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},16:function(e,t,n){},23:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);n(16);var a=n(1),r=n.n(a),l=n(14),o=n.n(l),u=n(37),c=n(38),i=n(30),s=n(31),m=n(32),f=n(33),d=n(34),h=n(35),v=n(36);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var g={noEmpty:function(e){return void 0===e||null===e||""===e.toString()?"This cannot be empty":void 0},lessThan:function(e){return function(t){return t>=e?"Must be less than "+e:void 0}},greaterThan:function(e){return function(t){return t<=e?"Must be greater than "+e:void 0}},equalTo:function(e){return function(t){return t!=e?"Must be equal to "+e:void 0}},lengthEquals:function(e){return function(t){return t.toString().length!=e?"Length should be equal to "+e:void 0}},lengthLessThan:function(e){return function(t){return t.toString().length>=e?"Length should be less than "+e:void 0}},lengthGreaterThan:function(e){return function(t){return t.toString().length<=e?"Length should be greater than "+e:void 0}}},b=["name","schema","value","formValues","error"];function E(e){var t=e.name,n=e.schema,a=e.value,l=e.formValues,o=e.error,u=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,b),c=(n.valueRenderer||function(e){return e})(a);return n.displayCondition&&!n.displayCondition(l)?null:"select"===n.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,n.label,n.required&&r.a.createElement("span",{className:"input-error"},"*"),r.a.createElement("small",{className:"input-error"},o)),r.a.createElement(s.a,Object.assign({name:t,value:c,type:"select",invalid:!!o},u),(n.options||[]).map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))):"checkbox"===n.type?r.a.createElement(m.a,{check:!0},r.a.createElement(i.a,{check:!0},r.a.createElement(s.a,Object.assign({type:"checkbox",invalid:!!o,checked:c},u))," ",n.label,n.required&&r.a.createElement("span",{className:"input-error"},"*"))):"label"===n.type?r.a.createElement("h5",{style:{marginBottom:"-8px",marginTop:"8px"}},n.label):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,n.label,n.required&&r.a.createElement("span",{className:"input-error"},"*"),r.a.createElement("small",{className:"input-error"},o)),r.a.createElement(s.a,Object.assign({name:t,value:c,type:n.type,placeholder:n.placeholder,invalid:!!o},u)))}var y=function(e){var t=e.submitCallback,n=e.layout,a=e.schema,l=e.form,o=e.disabled,u=e.actions,c=e.actionName,i=e.actionsTop,s=l.formValues,p=l.formErrors,g=l.onChange,b=l.onSubmit;r.a.useEffect((function(){l.setSchema(a)}),[]);var y=n.map((function(e){return function e(t,n){if("string"==typeof t)return[[t,n]];var a=n/t.length;return t.map((function(t){return e(t,a)})).flat()}(e,12)})),k=r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(f.a,{color:"success",style:{marginRight:"3px"}},c),(u||[]).map((function(e){return r.a.createElement(f.a,{key:e.name,type:"button",color:e.color||"primary",onClick:function(){return e.callback(s)},style:{marginRight:"3px"}},e.name)})));return r.a.createElement(d.a,{className:"tf-form",onSubmit:b(t)},r.a.createElement("fieldset",{disabled:!!o},i&&r.a.createElement(r.a.Fragment,null,k,r.a.createElement("hr",null)),y.map((function(e,t){return r.a.createElement(h.a,{key:t},e.map((function(e){var t=e[0],n=e[1];return r.a.createElement(v.a,{md:n,key:t},r.a.createElement(m.a,null,r.a.createElement(E,{schema:a[t],name:t,value:s[t],onChange:g(t,a[t].valueProcessor),formValues:s,error:p[t]})))})))})),!i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),k)))},k=function e(t){var n={};return Object.entries(t).forEach((function(t){var a=t[0],r=t[1];if(r&&r.constructor===Object){var l=e(r);Object.entries(l).forEach((function(e){var t=e[0],r=e[1];n[a+"."+t]=r}))}else n[a]=r})),n},S=function(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],a=e[1],r=n.split(".");if(1===r.length)t[n]=a;else{var l=t;r.slice(0,r.length-1).forEach((function(e){var t=l[e]||{};l[e]=t,l=t})),l[r[r.length-1]]=a}})),t},O=function(e,t){var n=r.a.useState(k(e)),a=n[0],l=n[1],o=r.a.useState(k(e)),u=o[0],c=o[1],i=r.a.useState({}),s=i[0],m=i[1],f=r.a.useState(t),d=f[0],h=f[1],v=r.a.useState({}),b=v[0],E=v[1],y=function(){if(d){var e=Object.keys(d).reduce((function(e,t){var n,r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var a in t){var r=t[a](e,n);if(void 0!=r)return r}}}(d[t].required?g.noEmpty:function(){},d[t].validation?d[t].validation:function(){})(a[t],a);return void 0!==r?p({},e,((n={})[t]=r,n)):e}),{});if(0!==Object.keys(e).length)return m(e),!1}return!0},O=function(e){return l(k(e))};return{formValues:a,formErrors:s,onChange:function(e,t){return function(n){var r,l,o,u="checkbox"===n.currentTarget.type?n.currentTarget.checked:n.currentTarget.value,c=t||function(e){return e};E(p({},b,((r={})[e]=!0,r))),O(p({},a,((l={})[e]=c(u,a),l))),m(p({},s,((o={})[e]=void 0,o)))}},onSubmit:function(t){return function(n){var r,l;if(n.preventDefault(),y())if(d){var o=(r=a,l=function(e,t){var n;return void 0===d||void 0===(null===(n=d[e])||void 0===n?void 0:n.displayCondition)||d[e].displayCondition(a)},Object.keys(r).reduce((function(e,t){var n;return l(t,r[t])?p({},e,((n={})[t]=r[t],n)):e}),{}));t(p({},e,S(o)))}else t(S(a))}},updateForm:function(e){return O(e)},resetForm:function(){O(u)},resetValues:u,setFormValues:O,setSchema:h,setResetValues:c}},j=(n(23),{name:{type:"text",label:"Your name",required:!0},age:{type:"number",label:"Your age",required:!0,validation:g.greaterThan(18)},height:{type:"number",label:"Your Height",required:!0,validation:function(e){return(e<3||e>7)&&"You can't be below 3 feet and above 7 feet"}},address:{type:"text",label:"Address",required:!0},gender:{type:"select",label:"Gender",options:[{label:"--Select--",value:""},{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Don't Disclose",value:"no_disclose"}]},hairLength:{type:"number",label:"Hair Length(cms)",displayCondition:function(e){return"no_disclose"!=e.gender&&!!e.gender},validation:function(e,t){return"male"==t.gender?e>10&&"A guy can't have more than 10 cms long":e<10&&"A girl can't have less than 10 cms long"}},fileAttachments:{type:"file",label:"Select your files"}}),x=[["name"],["age","height"],["address"],["gender","hairLength"]],q=function(){var e=O({},j);return console.warn(e.formErrors),r.a.createElement(u.a,null,r.a.createElement(c.a,{md:"3"}),r.a.createElement(c.a,{md:"6"},r.a.createElement("h2",null," My form"),r.a.createElement(y,{form:e,schema:j,layout:x,submitCallback:function(){alert("submitted!!")},actionName:"Check!"})),r.a.createElement(c.a,{md:"3"}))};n(26);o.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.8fc86690.chunk.js.map